/* General Classic Theme Background and Fonts */
html, body, #app { height: 100%; margin: 0; padding: 0; overflow: hidden; }
body {
    font-family: 'Merriweather', serif;
    background: radial-gradient(ellipse at bottom, #100C08 0%, #000000 100%);
    color: #E0E0E0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}
h1, h2 { font-family: 'Playfair Display', serif; color: #FFD700; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }

/* spinner */
.spinner { border: 4px solid rgba(255, 255, 255, 0.3); border-top: 4px solid #DAA520; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
@keyframes spin-refresh { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
.is-refreshing { animation: spin-refresh 0.8s ease-in-out; }

/* Page transition animation */
.page-transition-active { transition: opacity 0.6s ease-in-out; }
.page-transition-hidden { opacity: 0; }
.page-transition-visible { opacity: 1; }

/* Classic Card/Modal Styling */
.classic-card { background: linear-gradient(145deg, #4B0000 0%, #660000 60%, #800000 100%); border: 4px solid #DAA520; border-radius: 20px; box-shadow: 0 15px 30px rgba(0,0,0,0.6), inset 0 0 15px rgba(255,255,255,0.1); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); position: relative; max-height: 90vh; overflow-y: auto; overflow-x: hidden; }
.classic-card::before, .classic-card::after { content: ''; position: absolute; width: 30px; height: 30px; box-shadow: 0 0 10px rgba(255,215,0,0.5); }
.classic-card::before { top: -10px; left: -10px; border-top: 5px solid #FFD700; border-left: 5px solid #FFD700; border-radius: 5px 0 0 0; }
.classic-card::after { bottom: -10px; right: -10px; border-bottom: 5px solid #FFD700; border-right: 5px solid #FFD700; border-radius: 0 0 5px 0; }

/* Button Styles */
.classic-btn { border: 2px solid #DAA520; border-radius: 15px; font-weight: 700; text-shadow: 1px 1px 2px rgba(0,0,0,0.6); transition: all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1); box-shadow: 0 8px 16px rgba(0,0,0,0.4), inset 0 0 8px rgba(255,255,255,0.1); color: #FFFFFF; padding: 0.875rem 1.5rem; font-size: 1.125rem; position: relative; overflow: hidden; }
.classic-btn:hover { transform: translateY(-5px) scale(1.03); box-shadow: 0 12px 24px rgba(0,0,0,0.6), inset 0 0 10px rgba(255,255,255,0.2); }
.classic-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; box-shadow: 0 8px 16px rgba(0,0,0,0.4), inset 0 0 8px rgba(255,255,255,0.1); }
.btn-purple-classic { background: linear-gradient(145deg, #8A2BE2 0%, #6A0DAD 100%); }
.btn-blue-classic { background: linear-gradient(145deg, #4682B4 0%, #2A52BE 100%); }
.btn-green-classic { background: linear-gradient(145deg, #228B22 0%, #006400 100%); }
.btn-red-classic { background: linear-gradient(145deg, #CD5C5C 0%, #B22222 100%); }
.btn-gray-classic { background: linear-gradient(145deg, #A9A9A9 0%, #808080 100%); }
.btn-brown-classic { background: linear-gradient(145deg, #8B4513 0%, #69320E 100%); }

/* Input Field Styles */
input, select { background-color: #202020; border: 2px solid #5A5A5A; color: #E0E0E0; padding: 0.875rem; border-radius: 0.75rem; box-shadow: inset 0 2px 4px rgba(0,0,0,0.5); }
input::placeholder { color: #A0A0A0; }
input:focus, select:focus { border-color: #DAA520 !important; box-shadow: 0 0 0 4px rgba(218, 165, 32, 0.5) !important, inset 0 2px 4px rgba(0,0,0,0.5) !important; outline: none; }

/* Header/Footer Styles */
.app-header, .lobby-header { background: linear-gradient(to right, #4A2B00 0%, #7A4C00 50%, #4A2B00 100%); border-bottom: 3px solid #FFD700; box-shadow: 0 8px 20px rgba(0,0,0,0.7); height: 70px; position: fixed; top: 0; left: 0; right: 0; z-index: 40; padding: 0.75rem 1rem; display: flex; justify-content: space-between; align-items: center; }
.app-footer, .lobby-footer { background: linear-gradient(to left, #4A2B00 0%, #7A4C00 50%, #4A2B00 100%); border-top: 3px solid #FFD700; box-shadow: 0 -8px 20px rgba(0,0,0,0.7); height: 90px; position: fixed; bottom: 0; left: 0; right: 0; z-index: 40; padding: 1rem; display: flex; justify-content: space-around; align-items: center; }
.main-content-area { padding-top: 70px; padding-bottom: 90px; flex-grow: 1; overflow-y: auto; width: 100%; display: flex; flex-direction: column; justify-content: flex-start; align-items: center; background: linear-gradient(180deg, #2C2C2C 0%, #1A1A1A 100%); }
.lobby-header .search-container { display: flex; flex-grow: 1; max-width: 600px; margin: 0 auto; align-items: center; background-color: #303030; border-radius: 15px; border: 2px solid #5A5A5A; padding: 0.5rem 1rem; }
.lobby-footer .icon-btn { display: flex; flex-direction: column; align-items: center; color: #FFD700; font-size: 0.8rem; cursor: pointer; transition: transform 0.2s ease-in-out; }
.lobby-footer .icon-btn:hover { transform: translateY(-5px); }

/* Profile Modal styles */
.profile-modal-overlay { background-color: rgba(0,0,0,0.7); transition: opacity 0.3s ease-in-out; }
.profile-modal-content { transform: translateY(-20px); transition: all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1); }
.profile-modal-enter-active .profile-modal-content { transform: translateY(0); }

/* Lobby Detail Screen Styles */
.lobby-detail-screen-full { display: flex; flex-direction: column; width: 100%; height: 100%; background: linear-gradient(180deg, #2C2C2C 0%, #1A1A1A 100%); }
.lobby-detail-content { background: linear-gradient(145deg, #1A1A1A 0%, #0D0D0D 100%); border: 3px solid #DAA520; border-radius: 20px; box-shadow: 0 10px 20px rgba(0,0,0,0.7); padding: 1.5rem; width: 95%; max-width: 1200px; height: calc(100% - 100px); display: flex; gap: 1.5rem; margin: 50px auto; overflow: hidden; }
.lobby-sidebar { display: flex; flex-direction: column; flex-shrink: 0; width: 300px; background-color: rgba(0,0,0,0.3); border-radius: 15px; padding: 1rem; border: 1px solid #444; overflow-y: auto; }
.lobby-main-panel { display: flex; flex-direction: column; flex-grow: 1; min-width: 0; }
#player-list-container { margin-top: 1rem; flex-grow: 1; overflow-y: auto; }
.player-list-item { background-color: rgba(255, 255, 255, 0.05); border-radius: 8px; padding: 0.75rem; margin-bottom: 0.5rem; display: flex; justify-content: space-between; align-items: center; }
.lobby-chat-container { background-color: rgba(0,0,0,0.4); border: 2px solid #5A5A5A; border-radius: 10px; padding: 0.75rem; flex-grow: 1; display: flex; flex-direction: column; overflow: hidden; }
.lobby-chat-messages { flex-grow: 1; overflow-y: auto; padding-right: 0.5rem; }
.lobby-chat-input-form { margin-top: 0.75rem; display: flex; gap: 0.5rem; flex-shrink: 0; }
.lobby-actions-footer { flex-shrink: 0; margin-top: 1rem; display: flex; justify-content: space-between; align-items: center; }
.start-game-btn { background: linear-gradient(145deg, #228B22 0%, #006400 100%); font-size: 1.1rem; }
.lobby-type-btn { padding: 0.5rem 1.5rem; border: 2px solid #DAA520; border-radius: 10px; transition: all 0.2s ease-in-out; background-color: transparent; color: #DAA520; font-weight: bold; }
.lobby-type-btn.active { background-color: #DAA520; color: #1A1A1A; }

/* === NEW: Game Screen Styles === */
#game-screen { background: radial-gradient(ellipse at bottom, #0d1b2a 0%, #000814 100%); }

/* Countdown Overlay */
.countdown-text {
    font-family: 'Playfair Display', serif;
    font-size: 20vw; /* Responsive font size */
    color: #FFD700;
    text-shadow: 0 0 30px rgba(255, 215, 0, 0.7), 0 0 10px white;
    animation: countdown-pulse 1s infinite;
}
@keyframes countdown-pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.1); opacity: 0.8; }
}

/* Game Header Bar */
.game-header-bar {
    position: absolute; top: 0; left: 0; right: 0;
    height: 60px;
    background: linear-gradient(to right, rgba(20, 33, 61, 0.8) 0%, rgba(252, 163, 17, 0.8) 50%, rgba(20, 33, 61, 0.8) 100%);
    border-bottom: 2px solid #FCA311;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 1.5rem;
    box-shadow: 0 4px 15px rgba(0,0,0,0.5);
}
.game-timer {
    font-size: 1.8rem;
    font-weight: bold;
    color: #FFFFFF;
    text-shadow: 1px 1px 3px #000;
}
.my-role {
    font-size: 1.2rem;
    font-weight: bold;
    padding: 0.5rem 1rem;
    border-radius: 10px;
    color: #14213d;
    background-color: #FCA311;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.3);
}
.my-role.role-ai { background-color: #e63946; color: white; }
.my-role.role-human { background-color: #a8dadc; color: #1d3557; }

/* Game Main Area Layout */
.game-main-area {
    width: 100%;
    height: 100%;
    padding-top: 60px; /* Header height */
    display: flex;
    flex-direction: column; /* Stack players above chat on small screens */
    gap: 1rem;
    padding: 1rem;
    padding-top: 70px; /* Header + padding */
}

/* Player Cards Grid */
.game-players-grid {
    flex-grow: 1;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    align-content: flex-start;
    overflow-y: auto;
}
.player-card {
    background: linear-gradient(145deg, #1d3557, #111e32);
    border: 2px solid #457b9d;
    border-radius: 15px;
    padding: 1rem;
    text-align: center;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    min-height: 150px;
}
.player-card.eliminated {
    opacity: 0.4;
    background: #333;
    border-color: #555;
}
.player-card.has-voted {
    border-color: #FCA311;
    box-shadow: 0 0 15px rgba(252, 163, 17, 0.5);
}
.player-card .player-name {
    font-size: 1.2rem;
    font-weight: bold;
    color: #f1faee;
}
.player-card .vote-button {
    margin-top: 1rem;
    width: 100%;
    padding: 0.5rem;
    font-size: 1rem;
}

/* Game Chat Panel */
.game-chat-panel {
    height: 300px; /* Fixed height for chat on small screens */
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    background-color: rgba(0,0,0,0.3);
    border-radius: 10px;
    border: 1px solid #457b9d;
    padding: 0.75rem;
    overflow: hidden;
}
.game-chat-messages {
    flex-grow: 1;
    overflow-y: auto;
    margin-bottom: 0.5rem;
}
/* Re-use lobby chat message styles */
.game-chat-messages .chat-message { max-width: 95%; }
.game-chat-input-form { display: flex; gap: 0.5rem; flex-shrink: 0; }
#game-chat-input { flex-grow: 1; }

/* Game Over/Status Overlay */
#game-status-overlay h2 { color: #FCA311; }
#game-status-overlay p { color: #f1faee; }

/* Responsive Game Screen */
@media (min-width: 1024px) { /* lg breakpoint */
    .game-main-area {
        flex-direction: row; /* Side-by-side on large screens */
    }
    .game-players-grid {
        flex-grow: 0; /* Don't grow */
        width: 65%;
    }
    .game-chat-panel {
        height: 100%; /* Full height */
        width: 35%;
    }
}

/* Custom Scrollbars */
.lobby-sidebar::-webkit-scrollbar, #player-list-container::-webkit-scrollbar, .lobby-chat-messages::-webkit-scrollbar, .game-players-grid::-webkit-scrollbar, .game-chat-messages::-webkit-scrollbar { width: 8px; }
.lobby-sidebar::-webkit-scrollbar-track, #player-list-container::-webkit-scrollbar-track, .lobby-chat-messages::-webkit-scrollbar-track, .game-players-grid::-webkit-scrollbar-track, .game-chat-messages::-webkit-scrollbar-track { background: #202020; border-radius: 4px; }
.lobby-sidebar::-webkit-scrollbar-thumb, #player-list-container::-webkit-scrollbar-thumb, .lobby-chat-messages::-webkit-scrollbar-thumb, .game-players-grid::-webkit-scrollbar-thumb, .game-chat-messages::-webkit-scrollbar-thumb { background: #DAA520; border-radius: 4px; }
